---

# Question

- HTTP의 GET과 POST 메소드는 어떻게 다른가요?
    - 다른 HTTP 메소드에는 무엇이 있나요?
- HTTP 서버에 GET과 POST를 통해 데이터를 보내려면 어떻게 해야 하나요?
    - HTTP 요청의 `Content-Type` 헤더는 무엇인가요?
    - Postman에서 POST 요청을 보내는 여러 가지 방법(`form-data`, `x-www-form-urlencoded`, `raw`, `binary`) 각각은 어떤 용도를 가지고 있나요?

# Answer

> HTTP의 GET과 POST 메소드는 어떻게 다른가요?
- 다른 HTTP 메소드에는 무엇이 있나요?

# HTTP의 GET과 POST의 차이

이번 포스팅에선 `GET` 과 `POST` 의 차이점을 알아보겠습니다.

개발자로써 기본적인 내용이니 혹시 모르시는 분들은 숙지하면 좋을것 같습니다.

## GET

HTTP/1.1 스펙인 RFC2616의 Section 9.3에 따르면 `GET` 은 서버로부터 정보를 조회하기 위해 설계된 메소드입니다. `GET` 은 요청을 전송할 때 필요한 데이터를 Body에 담지 않고, 쿼리스트링을 통해 전송합니다. URL의 끝에 `?` 와 함께 이름과 값으로 쌍을 이루는 요청 파라미터를 쿼리스트링이라고 부릅니다. 만약, 요청 파라미터가 여러 개이면 `&` 로 연결할 수 있습니다. 쿼리 스트링을 사용하게 되면 URL에 조회 조건을 표시하기 때문에 특정 페이지를 링크하거나 북마크 할 수 있습니다.

쿼리스트링을 포함한 URL의 샘플은 아래와 같습니다. 여기서 요청 파라미터명은 name1, name2 이고, 각각의 파라미터는 value1, value2 라는 값으로 서버에 요청을 보내게 됩니다.

```jsx
www.example-url.com/resources?name1=value1&name2=value2
```

그리고 `GET` 은 불필요한 요청을 제한하기 위해 요청이 캐시될 수 있습니다. js, css, 이미지 같은 정적 컨텐츠는 데이터양이 크고 변경될 일이 적습니다. 그러므로 반복해서 동일한 요청을 할 필요가 없다고 볼 수 있습니다. 정적 컨텐츠를 요청하고 나면 브라우저 에서는 요청을 캐시해두고, 동일한 요청이 발생한다면 서버로 요청하지 않고 캐시된 데이터를 사용합니다.

프론트엔드 개발을 하다보면 정적 컨텐츠가 캐시되어 컨텐츠를 변경해도 내용이 바뀌지 않는 경우가 종종 발생합니다. 이 때는 브라우저의 캐시를 지워주면 다시 컨텐츠를 조회하기 위해 서버로 요청을 보내게 됩니다.

## POST

`POST` 는 리소스를 생성/변경하기 위해 설계되었기 때문에 GET과 달리 전송해야 될 데이터를 HTTP Message의 Body에 담아서 전송해야 합니다. HTTP의 Message의 Body는 길이의 제한없이 데이터를 전송할 수 있습니다. 그래서 `POST` 요청은 GET과 달리 대용량 데이터를 전송할 수 있습니다.

이처럼 `POST` 는 데이터가 Body로 전송되고 내용이 눈에 보이지 않아 `GET` 보다 보안적인 면에서 안전하다고 생각할 수 있지만, `POST` 요청도 크롬 개발자 도구, Fiddler와 같은 툴로 요청 내용을 확인할 수 있기 때문에 민감한 데이터의 경우에는 반드시 암호화해서 전송해야 합니다.

그래서 `POST` 로 요청을 보낼 때는 요청 헤더의 `Content-Type` 에 요청 데이터의 타입을 표시해야 합니다. 데이터 타입을 표시하지 않으면 서버는 내용이나 URL에 포함된 리소스의 확장자 명 등으로 데이터 타입을 유추합니다. 만약, 알 수 없는 경우에는 `application/octet-stream` 으로 요청을 처리합니다.

## GET POST의 차이

`GET` 은 idempotent, `POST` 는 Non-idempotent 하게 설계 되었습니다.

Idempotent(멱등)은 수학적 개념으로 다음과 같이 나타낼 수 있습니다.

**수학이나 전산학에서 연산의 한 성질을 나타내는 것으로, 연산을 여러번 적용하더라도 결과가 달라지지않는 성질**

즉, 멱등이라는 것은 **동일한 연산을 여러 번 수행하더라도 동일한 결과**가 나타나야 합니다.

여기서 `GET` 이 Idempotent 하도록 설계되었다는 것은 `GET` 으로 서버에게 동일한 요청을 여러번 전송하더라도 동일한 응답이 돌아와야 한다는 것을 의미합니다. 이에 따라 `GET` 은 설계 원칙에 따라 서버의 데이터나 상태를 변경시키지 않아야 Idempotent 하기 때문에 주로 조회를 할 떄에 사용해야 합니다. 예를 들어, 브라우저에서 웹페이지를 열어보거나 게시글을 읽는 등 조회를 하는 헹위는 `GET` 으로 요청하게 됩니다.

반대로 `POST` 는 Non-Idempotent 하기 때문에 서버에게 동일한 요청을 여러 번 전송해도 응답은 항상 다를 수 있습니다. 이에 따라 POST는 서버의 상태나 데이터를 변경시킬 떄 사용합니다.

게시글을 쓰면 서버에 게시글이 저장이 되고, 게시글을 삭제하면 해당 데이터가 없어지는 등 `POST` 로 요청을 하게 되면 서버의 무언가는 변경되도록 사용됩니다. 이처럼 `POST` 는 생성, 수정, 삭제에 사용할 수 있지만, 생성에는 `POST` , 수정은 `PUT` 또는 `PATCH` , 삭제는 `DELETE` 가 더 용도에 맞는 메소드라고 할 수 있습니다.

## GET과 POST 이외에 다른 메소드

### PUT

서버에게 resource의 업데이트를 요청하거나 resource가 없다면 새로운 resource를 생성해 달라고 요청합니다. 회원 정보 수정 등에 사용됩니다.

`PUT` 메서드는 `PATCH` 메서드와 비교해서 전체 데이터를 교체하는 차이점이 있습니다.

가령 user data의 구조가 user._id, user.firstName, user.lastName, user.age라고 한다면, 회원정보 수정시 PUT은 _id를 찾아 age만 업데이트하더라도 항상 모든 필드값을 가져와서 모든 필드를 항상 새로운 값으로 교체합니다.

### PATCH

서버에게 resource의 업데이트를 요청합니다. 회원정보 수정 등에 사용됩니다.

`PATCH` 는 부분적인 데이터만 업데이트하는 차이점이 있습니다.

### DELETE

`DELETE` 메서드는 특정 리소스를 삭제합니다.

### HEAD

`HEAD` 메서드는 `GET` 메서드의 요청과 동일한 응답을 요구하지만, 응답 본문을 포함하지 않습니다.

### CONNET

`CONNET` 메서드는 목적 리소스로 식별되는 서버로의 터널을 맺습니다.

### OPTIONS

`OPTIONS` 메서드는 목적 리소스의 통신을 설정하는 데 쓰입니다.

### TRACE

`TRACE` 메서드는 목적 리소스의 경로를 따라 메시지 loop-back을 테스트 합니다.

출처 : [[용어 뜻/설명] HTTP Methods(HTTP-Verbs) - GET, POST, PUT, PATCH, DELETE란?]([https://m.blog.naver.com/azure0777/220824614635](https://m.blog.naver.com/azure0777/220824614635))

> HTTP 서버에 GET과 POST를 통해 데이터를 보내려면 어떻게 해야 하나요?
- HTTP 요청의 `Content-Type` 헤더는 무엇인가요?
- Postman에서 POST 요청을 보내는 여러 가지 방법(`form-data`, `x-www-form-urlencoded`, `raw`, `binary`) 각각은 어떤 용도를 가지고 있나요?

## HTTP 서버에 데이터를 보내기 위한 방법

HTTP 서버에 데이터를 보내기 위해선 여러가지 방법이 있습니다. 위에 언급된 Postman을 이용한 방법도 존재하며, 일반적인 개발과정을 진행할 때에는 소스코드에서 Framework 등을 이용하여 데이터를 보내는 방법이 있습니다.

## MIME (Multipurpose Internet Mail Extensions)

`Content-Type`을 이해하기 위해서는 먼저 `MIME` 를 이해하면 좋습니다.

`MIME` 는 Multipurpose Internet Mail Extensions의 약자로 파일 변환을 뜻합니다.

MIME는 이메일과 함께 동봉할 파일을 텍스트 문자로 전환해서 이메일 시스템을 통해 전달하기 위해 개발되었기 때문에 이름이 Internet Mail Extension 입니다. 그렇지만 현재는 웹을 통해서 여러형태의 파일을 전달하는데 쓰이고 있습니다.

### MIME 사용 이유

`MIME` 를 사용하기 전에는 UUEncode  방식을 이용하고 있었으며, UUEncode에는 치명적인 단점이 있었는데, 이러한 단점을 보강하기 위하여 새로운 인코딩 방식이 등장했습니다. 이것을 `MIME` 라고 합니다.

이전에는 text 파일을 주고받는데에 `ASCII` 로 공통된 표준에 따르기만 하면 문제가 없었습니다. 하지만 네트워크를 통해 `ASCII` 파일이 아닌 바이너리 파일을 보내는 경우가 생기게 되었습니다. 바이너리 파일에는 음악파일, 무비파일, 워드파일 등등이 포함되어 있었습니다.

이러한 바이너리 파일을 `ASCII` 만으로 전송하기에는 무리가 뒤 따랐습니다. 바이너리 파일들을 기존의 시스템에서 문제 없이 전달하기 위해서는 텍스트파일로 변환이 필요하게 되었습니다.

`MIME` 으로 인코딩 한 파일은 `Content-Type` 정보를 파일의 앞부분에 담게 되며, `Content-Type` 은 여러가지의 타입이 있습니다.

특정 `Content-Type` 은 파일을 웹서버로부터 전달 받아 웹브라우저에서 열 수 있기도 하고, 열 수 없기도 합니다.

이유는 예를들어 웹 브라우저에서 서버에 접속하여 `html` 문서를 요청하면서 `html` 문서에 있는 이미지 파일의 경로를 불러올 수 있다고 한다면, 이러한 과정에서 이미지의 경로에 있는 파일이 웹브라우저에서 지원되는 `MIME` Type이라면 웹 브라우저를 이용하여 열어볼 수 있습니다.

바이너리 파일도 마찬가지 입니다. 주로 쓰고 있는 대부분의 포맷인 .gif, .jpg, .mov 등등의 파일들은 웹 브라우저에서 무리 없게 열리게 되는데 브라우저에서 지원하지 못하는 유형은 따로 지정을 해주어야 합니다.

## Content-Type이란 무엇인가?

우리가 클라이언트 브라우저로 어떤 자원을 보낼때 (어떤 형태의 파일이나 문서 등), 웹 서버는 일련의 `HTTP` 헤더로 파일이나 자원을 포함하는 바이트의 `Stream` 을 앞에 보냅니다. 이런 헤더는 헤더는 클라이언트에게 웹 서버와 커뮤니케이션을 할 수 있는 세부사항을 담고 있습니다. 예를 들어, 헤더는 사용되고 있는 웹 서버의 소프트웨어 타입, 서버의 날짜와 시간, HTTP 프로토콜, 사용중인 Connection Type 등을 지정합니다. 또한 헤더는 클라이언트가 도메인에 대해서 저장해야 할 쿠키를 포함합니다.

이와 관련해서 가장 중요한 것은 헤더는 보내지는 자원의 content 타입을 포함하는 것입니다.  이것은 `Content-Type` 헤더에 의해 지정되는데, 이 값은 표준 `MIME-Type` 중 하나입니다. 우리는 `MIME-Type` 을 살펴봄으로써, 브라우저가 데이터를 나타낼 때 어떤 종류의 파일 `Stream` 인지를 알고 나타낸다는 것을 인지해야 합니다. HTML 페이지에서 표준 `MIME` 는 "text/html 입니다. 그리고 텍스트 파일이나 텍스트 stream은 "text/text" 입니다.


> Postman에서 POST 요청을 보내는 여러 가지 방법(form-data, x-www-form-urlencoded, raw, binary) 각각은 어떤 용도를 가지고 있나요?

## Postman 에서 POST 요청을 보내는 여러가지 방법

Postman에서 POST 요청 유형을 선택할 수 있습니다. 아래와 같은 옵션을 선택할 수 있는데 각각 어떤 역할을 하는지 알아보도록 하겠습니다.

- Form-data
- X-www-form-urlencoded
- Raw
- Binary

### Form Data(양식 데이터)

이름에서 알 수 있듯이 양식 데이터는 양식을 채울때 입력 한 세부 정보와 같이 양숙 내부에 래핑하는 데이터를 보내는데 사용됩니다. 이러한 세부 정보는 Key가 보내는 항목의 "이름" 이고 Value는 실제 값을 입력하면 됩니다. 즉, Key-Value 쌍으로 작성하여 전송됩니다.

### x-www-form-urlencoded

Form Data와 x-www-form-urlencoded는 매우 유사합니다. 둘 다 거의 동일한 목적으로 사용되지만 차이점은 URL이 x-www-form-urlencoded를 통해 전송 될 때 인코딩된다는 것입니다. 인코딩 된다는 뜻은 전송되는 데이터가 다른 문자로 인코딩되어 공격을 받고 있어도 인식할 수 없음을 의미합니다.

### Raw

Raw는 POST 메서드에서 본문을 보내는 동안 가장 많이 사용되는 부분 또는 옵션입니다. Postman의 관점에서 중요합니다. Raw는 본문 메시지가 요청 본문을 나타내는 비트 스트림으로 표시됨을 의미합니다. 이러한 비트는 문자열 서버로 해석됩니다.

### Binary

Binary는 수동으로 입력할 수 없는 형식으로 데이터를 전송하도록 설계되었습니다. 컴퓨터의 모든 것이 바이너리로 변환되기 때문에 이미지, 파일 등과 같이 수동으로 작성할 수 없는 상황일 때 이러한 옵션을 사용합니다.

